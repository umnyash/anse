"use strict";const KeyCode=Object.freeze({LEFT_ARROW:"ArrowLeft",RIGHT_ARROW:"ArrowRight",DOWN_ARROW:"ArrowDown",UP_ARROW:"ArrowUp",SPACE:"Space",ESCAPE:"Escape"});function createElementByString(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}function isDownArrowEvent(e){return e.code===KeyCode.DOWN_ARROW}function isEscapeEvent(e){return e.code===KeyCode.ESCAPE}function isLeftArrowEvent(e){return e.code===KeyCode.LEFT_ARROW}function isRightArrowEvent(e){return e.code===KeyCode.RIGHT_ARROW}function isSpaceEvent(e){return e.code===KeyCode.SPACE}function isUpArrowEvent(e){return e.code===KeyCode.UP_ARROW}class Taber{constructor(e){this.taberElement=e,this.init()}switchTab=(e,t,n)=>{if(e){e.ariaSelected=null,e.tabIndex=-1,e.classList.remove("taber__tab--active");const t=this.tabElements.indexOf(e);this.panelElements[t].classList.add("taber__panel--hidden")}n||t.focus(),t.tabIndex=0,t.ariaSelected=!0,t.classList.add("taber__tab--active");const i=this.tabElements.indexOf(t);this.panelElements[i].classList.remove("taber__panel--hidden")};openStartTab=()=>{const e=window.location.hash,t=this.tabElements.find((t=>t.hash===e));this.switchTab(null,t||this.tabElements[0],!0)};onTaberListClick=e=>{e.preventDefault();const t=e.target.closest(".taber__tab");if(!t)return;const n=this.listElement.querySelector("[aria-selected]");t!==n&&this.switchTab(n,t)};onTaberListKeydown=e=>{const t=this.tabElements.indexOf(e.target);if(isDownArrowEvent(e)||isLeftArrowEvent(e)||isRightArrowEvent(e))if(e.preventDefault(),isDownArrowEvent(e))this.panelElements[t].focus();else{const n=isLeftArrowEvent(e)?t-1:t+1;if(!this.tabElements[n])return;this.switchTab(e.target,this.tabElements[n])}};init(){this.id=this.taberElement.id,this.listElement=this.taberElement.querySelector(".taber__list"),this.tabElements=Array.from(this.listElement.querySelectorAll(".taber__tab")),this.panelElements=this.taberElement.querySelectorAll(".taber__panel"),this.listElement.setAttribute("role","tablist"),this.tabElements.forEach(((e,t)=>{e.role="tab",e.id=`${this.id}-tab-${t+1}`,e.href=`#${this.id}-panel-${t+1}`,e.tabIndex=-1,e.parentNode.role="presentation"})),this.panelElements.forEach(((e,t)=>{e.role="tabpanel",e.id=`${this.id}-panel-${t+1}`,e.tabIndex=-1,e.setAttribute("aria-labelledby",this.tabElements[t].id),e.classList.add("taber__panel--hidden")})),this.openStartTab(),this.listElement.addEventListener("click",this.onTaberListClick),this.listElement.addEventListener("keydown",this.onTaberListKeydown)}}class Video{constructor(e){this.videoElement=e,this.posterElement=e.querySelector(".video__poster"),this.playButtonWrapperElement=e.querySelector(".video__play-button-wrapper"),this.playButtonElement=e.querySelector(".video__play-button"),this.playerElement=e.querySelector(".video__player"),this.init()}play=()=>{this.playerElement.play(),this.playButtonWrapperElement.classList.add("video__play-button-wrapper--hidden"),this.posterElement.classList.add("video__poster--hidden")};init(){this.playButtonElement.addEventListener("click",(()=>{this.play()})),this.playerElement.addEventListener("ended",(()=>{this.playButtonWrapperElement.classList.remove("video__play-button-wrapper--hidden"),this.posterElement.classList.remove("video__poster--hidden")}))}}let activeButtonElement=null;function onDocumentClickWhileArticlePhotosButtonExpanded(e){!e.target.closest(".article__photos button")&&activeButtonElement&&(activeButtonElement.ariaExpanded="false",activeButtonElement=null),document.removeEventListener("click",onDocumentClickWhileArticlePhotosButtonExpanded)}function initArticlePhotos(e){e.addEventListener("click",(e=>{const t=e.target.closest(".article__photos button");if(!t)return;activeButtonElement&&activeButtonElement!==t&&(activeButtonElement.ariaExpanded="false");"true"===t.ariaExpanded?(t.ariaExpanded="false",activeButtonElement=null,document.removeEventListener("click",onDocumentClickWhileArticlePhotosButtonExpanded)):(t.ariaExpanded="true",activeButtonElement=t,document.addEventListener("click",onDocumentClickWhileArticlePhotosButtonExpanded)),e.stopPropagation()}))}function initArticleSeasons(e){const t=createElementByString('\n    <div class="seasons-slider swiper">\n      <p class="seasons-slider__pagination"></p>\n    </div>\n  '),n=e.querySelector("ul");t.append(n),n.classList.add("seasons-slider__list","swiper-wrapper");const i=n.querySelectorAll("li");i.forEach((e=>e.classList.add("seasons-slider__item","swiper-slide"))),e.append(t),new Swiper(t,{effect:"flip",speed:600,loop:!0,grabCursor:!0,pagination:{el:".seasons-slider__pagination",clickable:!0,bulletClass:"seasons-slider__pagination-button",bulletActiveClass:"seasons-slider__pagination-button--active",renderBullet:(e,t)=>`\n        <button class='${t}' type='button'>\n          ${i[e].dataset.label}\n        </button>\n      `}})}function initSizeChart(e){const t=e.querySelector("div");new SimpleBar(t,{autoHide:!1})}document.querySelectorAll(".article__photos").forEach(initArticlePhotos),document.querySelectorAll(".article__seasons-slider-wrapper").forEach(initArticleSeasons),document.querySelectorAll(".taber").forEach((e=>new Taber(e))),document.querySelectorAll(".size-chart").forEach(initSizeChart),document.querySelectorAll(".video").forEach((e=>new Video(e)));