"use strict";function initFormResending(t,e){function o(){console.log("Начата попытка отправить данные."),t.removeListener(FormEvents.SUBMIT_START,o),t.addListener(FormEvents.SUBMIT_END,n),e.button.disabled=!0,e.button.classList.add("button--pending")}function n(){console.log("Попытка отправить данные завершена."),t.removeListener(FormEvents.SUBMIT_END,n),e.close()}e.button.addEventListener("click",(e=>{e.preventDefault(),t.addListener(FormEvents.SUBMIT_START,o),t.formElement.requestSubmit()}))}console.log("Подключён временный файл для демонстрации."),subscriptionForm&&subscriptionForm.setHandlers((t=>{console.log("Распарсенный ответ сервера:",t),showAlert({heading:"Спасибо за подписку",icon:!0})}),(t=>{console.log("Распарсенный ответ сервера:",t);const e=showAlert({heading:"Не получилось оформить подписку",button:{text:"Попробовать еще раз"}});initFormResending(subscriptionForm,e)})),product&&(product.formElement.addEventListener("submit",(t=>{t.preventDefault();product.checkSelectedSize()?(product.setCounterValue(1),product.setAddedToCartView(),product.showCartNotification()):(console.log("Размер не выбран."),product.openSizeModal())})),product.sizeModalFormElement.addEventListener("submit",(t=>{t.preventDefault(),product.closeSizeModal(),product.setCounterValue(1),product.setAddedToCartView(),product.showCartNotification()})),product.counterElement.addEventListener("input",(t=>{0===+t.target.value&&product.setDefaultView()}))),modalEntry&&(modalEntry.codeFormElement.addEventListener("submit",(t=>{t.preventDefault();modalEntry.validatePhoneField()?modalEntry.switchStep(2):modalEntry.showCodeFormErrorMessage()})),modalEntry.loginFormElement.addEventListener("submit",(t=>{t.preventDefault(),window.location.href="https://umnyash.github.io/anse/account.html"})));const logoutButtonElement=document.querySelector(".account-menu__logout-button");logoutButtonElement&&logoutButtonElement.addEventListener("click",(t=>{t.preventDefault(),showAlert({heading:"Вы уверены, что хотите выйти из личного кабинета?",button:{text:"Выйти",classes:"jsLogoutUser"}})}));